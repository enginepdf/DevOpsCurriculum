# Quest 07. 여러 대의 서버로 서비스 하기

## Introduction
* 이번 퀘스트는 여러 대의 서버를 통해 안정적인 서비스를 만드는 방법을 다룹니다.

## Topics

## Resources
* https://aws.amazon.com/ko/elasticloadbalancing
* `로드밸런서`와 `리스너`, 그리고 `대상그룹`와 `상태 검사`

## Checklist
* 여러 대의 서버로 서비스할 때의 장점은 무엇일까요? 또 주의해야 할 점은 무엇일까요?

        (1)
        성능 향상(트래픽을 여러 대의 서버가 나누어 개별 서버의 부하량을 낮춤) 및 무중단 서비스 구축(안정성, 가용성) 가능, Scale up 보다는 저렴

        (2)
        데이터 불일치가 발생하지 않도록 조심(세션 처리 등)
        적정 서버 갯수를 잘 판단하여 소프트웨어 라이선스 비용이 지나치게 발생하지 않도록 조심

* AWS에서 제공하는 로드밸런서에는 어떤 종류가 있나요? 각각의 용도는 무엇일까요?

        - Application Load Balancer

            HTTP, HTTPS 트래픽의 로드밸런싱에 가장 적합. 마이크로서비스와 컨테이너 등 최신 애플리케이션 아키텍처 전달을 위한 고급 요청 라우팅 기능을 제공. 요청 내용에 따라 트래픽을 Amazon VPC 내의 대상으로 라우팅

        - Network Load Balancer

            극도의 성능이 요구되는 TCP, TLS 트래픽의 로드 밸런싱에 가장 적합. 트래픽을 Amazon VPC 내의 대상으로 라우팅. 매우 짧은 지연 시간을 유지하면서 초당 수백만 개의 요청 처리 가능

        - Gateway Load Balancer

            타사 가상 네트워킹 어플라이언스의 배포, 확장 및 실행을 쉽게 해줌. 트래픽의 소스와 대상에 대해 투명하게 작동. 보안, 네트워크 분석 및 기타 사용 사례에 타사 어플라이언스와 함께 사용하기에 적합

        - Classic Load Balancer

            EC2 인스턴스에서 기본적 로드 밸런싱. 요청 수준 및 연결 수준에서 작동

* AWS 로드밸런서의 리스너 규칙을 이용해 어떤 일들을 할 수 있을까요?

        리스너에 대해 정의한 규칙에 따라 로드 밸런서가 하나 이상의 대상 그룹에서 대상으로 요청을 라우팅하는 방법 결정

* AWS의 여러 리전(서울, 도쿄 등)으로 로드밸런싱을 하는 것도 가능할까요?

## Quest
* EC2 인스턴스를 한 대 더 늘리고, 앞단에 ELB를 사용하여 두 대를 로드밸런싱 해 보세요. 직전 퀘스트에서 만들었던 컨테이너를 이용하시면 됩니다.
* 두 대의 서버 모두에 번갈아 요청이 들어오는지 확인해 보세요.
* 만약 한 대의 서버의 컨테이너를 내렸을 때, 자동으로 나머지 한 대의 서버로만 요청이 가게 되도록 설정해 보세요.
